====================
Системные тесты Fuel
====================

Системный тест представляет собой полное развёртывание OpenStack при помощи готового *iso* образа Fuel в
нескольких поддерживаемых конфигурациях на опреационныхз системах *CentOS* и *Ubuntu*. При этом происходит
проверка всех этапов, которые проходит система при настоящем развёртывании на физических системах.

.. image:: images/system_test_process_overview.png
   :scale: 50%
   :alt: Схема проведения системного теста
   :align: center

- Подготовка образа и окружений.
  До начала тестирования необходимо подготовить настройки для тестирующего скрипта, который собирает
  *iso* образ с последней версией Fuel. Тестирование запускается автоматически планировщиком Jenkins.
- Развертывание Fuel.
  Тестовый скрипт создаёт новое тестовое окружение из приготовленного образа. В зависимости от режима
  развёртывания может быть нужно несколько тестовых окружений. После создания новых виртуальных систем
  производится автиоматическая установка управляющей системмы с *iso* образа. Если требуется
  установка нескольких виртуальных машин, то производится настройка *Сobbler* и установка операционных
  систем на управляемые виртуальные машины.

  После этого подготавливаются настройки *Puppet* и производится развёртывание *OpenStack* на всех
  участвующих в тестировании виртуальных машинах при помощи оркестратора. Успешность развёртывания контролируется
  путём анализ логов работы *Puppet* агента.

- Проверка при помощи Tempest.
  Если развёртывание системы произошло без ошибок, то начинается фаза тестирования. При помощи *Tempest* создаются
  пользователи и квоты. После этого делается попытка запуска облачной системы на развёрнутом *OpenStack*.

Развертывание считается успешной если все этапы произошли без ошибок. Результат теста возвращается в Jenkins
в формате xUnit и сохраняется.
